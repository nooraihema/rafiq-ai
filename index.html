
<!DOCTYPE html>
<html lang="ar">
<head>
  <meta charset="UTF-8">
  <title>رفيق الروح AI</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body {font-family: Arial, sans-serif; direction: rtl; background:#f4f4f4; margin:0; padding:20px;}
    .chat-box {background:#fff; border-radius:10px; padding:15px; max-width:500px; margin:auto; height:70vh; overflow-y:auto;}
    .message {margin:8px 0; padding:10px; border-radius:8px;}
    .user {background:#d1e7dd; text-align:left;}
    .noor {background:#f8d7da; text-align:right;}
    .controls {text-align:center; margin-top:10px;}
    input {width:70%; padding:10px; border:1px solid #ccc; border-radius:8px;}
    button {padding:10px 15px; border:none; border-radius:8px; background:#6f42c1; color:#fff; cursor:pointer;}
    button:hover {background:#5a359c;}
  </style>
</head>
<body>

  <div class="chat-box" id="chat-box"></div>

  <div class="controls">
    <input type="text" id="user-input" placeholder="اكتب رسالتك هنا...">
    <button onclick="handleUserMessage()">إرسال</button>
    <button onclick="clearChat()">🗑️ مسح</button>
  </div>

  <script>
    const knowledge = {
      "ازيك": "الحمد لله بخير 💜 إنت عامل ايه؟",
      "بحبك": "وأنا كمان بحبك 🥰",
      "سلام": "مع السلامة 🌸"
    };

    function addMessage(text, sender) {
      const box = document.getElementById("chat-box");
      const div = document.createElement("div");
      div.className = `message ${sender}`;
      div.textContent = text;
      box.appendChild(div);
      box.scrollTop = box.scrollHeight;
    }

    function clearChat() {
      document.getElementById("chat-box").innerHTML = "";
      addMessage("تم مسح المحادثة ✨ نبدأ من جديد؟", "noor");
    }

    function handleUserMessage() {
      const input = document.getElementById("user-input");
      const msg = input.value.trim();
      if (!msg) return;

      addMessage(msg, "user");
      input.value = "";

      let reply = "ممكن توضحلي أكتر؟ 🤔";
      for (let key in knowledge) {
        if (msg.includes(key)) {
          reply = knowledge[key];
          break;
        }
      }
      addMessage(reply, "noor");
    }

    // إرسال بالـ Enter
    document.getElementById("user-input").addEventListener("keypress", (e) => {
      if (e.key === "Enter") handleUserMessage();
    });

    // رسالة ترحيب أول مرة
    addMessage("أهلا بيك 🌸 أنا نور، رفيقة روحك 💜", "noor");
  </script>
</body>
</html>
