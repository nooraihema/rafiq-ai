{
  "tag": "cbt_act_choice_point",
  "core_concept": "نقطة الاختيار",
  "nlu": {
    "keywords": [
      {"word": "قرار", "weight": 1.0},
      {"word": "اختيار", "weight": 0.9},
      {"word": "نقطة الاختيار", "weight": 1.0},
      {"word": "تردد", "weight": 0.7},
      {"word": "موقف صعب", "weight": 0.8},
      {"word": "حسم أمر", "weight": 0.7},
      {"word": "محتار", "weight": 0.6},
      {"word": "متحير", "weight": 0.6}
    ],
    "dynamic_keywords": "أضف كلمات جديدة تلقائيًا إذا ظهرت في أسئلة أو مواقف المستخدم.",
    "pattern_analysis_logic": "إذا تكررت كلمة 'تردد' في عدة مواقف سابقة، اقترح تمارين خاصة بإدارة التردد.",
    "self_learning_logic": {
      "update_weights_on_success": "زد وزن الكلمات/الاقتراحات التي نجحت مع المستخدم تلقائيًا.",
      "update_weights_on_failure": "قلل وزن الكلمات/الاقتراحات غير الفعّالة.",
      "pattern_discovery": "اكتشف أنماط جديدة في أسئلة المستخدم وأضفها تلقائيًا.",
      "contextual_prediction": "تنبأ بالاقتراحات أو التمارين التي قد يحتاجها المستخدم بناءً على التاريخ والسياق."
    },
    "semantic_intent_analysis": "استخدم التحليل الدلالي لاكتشاف المقاصد غير المباشرة في كلام المستخدم، مثل تجنب الحديث عن مشاعره أو أهدافه.",
    "clarity_score_logic": "قيم وضوح إجابة المستخدم (clarity score) واقترح تلقائيًا أسئلة توضيحية إذا كان هناك غموض.",
    "generative_suggestion_logic": "عند ظهور كلمات أو مواقف جديدة، يولد النظام اقتراحات وتمارين وأسئلة جديدة كلياً تلقائياً."
  },
  "external_context": {
    "time_of_day": "تخصيص الاقتراحات حسب الوقت (مثلاً، تمارين تهدئة في المساء، تحليل عميق في الصباح).",
    "day_of_week": "توصية بقرارات العمل في بداية الأسبوع، وقرارات شخصية أو عائلية في نهايته.",
    "energy_level_prediction": "تحليل كلمات المستخدم لتقدير مستوى الطاقة واقتراح تمارين مناسبة.",
    "environmental_factors": "اقتراحات تتغير حسب الطقس أو الأحداث اليومية إذا تم ذكرها من المستخدم."
  },
  "emotion": {
    "type": "neutral",
    "intensity": 0.2,
    "emotions_detected": [
      {"type": "قلق", "intensity": 0.6},
      {"type": "تردد", "intensity": 0.4},
      {"type": "حيرة", "intensity": 0.5}
    ],
    "fuzzy_threshold": 0.2,
    "emotion_trend_logic": "إذا زاد القلق في أكثر من موقف متتابع، اقترح تمارين تهدئة جديدة وركز على الدعم النفسي.",
    "auto_tone_detection": "حلل نبرة المستخدم من كلماته وعدّل نوع الردود (داعم، مطمئن، عملي) تلقائيًا.",
    "decision_index": {
      "value": 0.75,
      "logic": "حساب مؤشر ذكاء القرار بناءً على فعالية اختيارات المستخدم والمشاعر عبر الزمن. إذا ارتفع المؤشر، اقترح أدوات أعمق."
    },
    "adaptive_emotion_response": "إذا زادت شدة المشاعر، زود مستوى الدعم النفسي واقترح خطوات عملية فورية.",
    "emotion_session_trend": "تتبع تغير المشاعر (trend) خلال الجلسة وأبلغ المستخدم عند حدوث تحسن أو تراجع.",
    "behavior_emotion_correlation": "حلل العلاقة بين نوع القرار وشدة المشاعر لتخصيص الاقتراحات بشكل أفضل."
  },
  "layers": {
    "L1": [
      "لما أكون في موقف صعب، أتصرف بطريقة تبعد عن أهدافي",
      "أحياناً أشعر بتردد وأحتاج أداة لاتخاذ القرار الصحيح",
      "كيف أختار أفعالي بوعي بدل ما تكون رد فعل"
    ],
    "L2": [
      "أريد أن أتعلم كيف أميز بين الخيارات في لحظة الضغط",
      "أحتاج أداة تساعدني على اتخاذ القرار الصحيح"
    ],
    "L3": [
      "هل يوجد خطوات عملية لجعل اختياري أكثر وعياً؟"
    ],
    "layer_selection_logic": "اختر الأسئلة أو الردود من طبقة أعمق إذا أظهر المستخدم تجاوباً مع أدوات التفكير العميق سابقاً.",
    "dynamic_layer_selection": "انتقل لطبقة أعمق تلقائيًا إذا أظهر المستخدم تجاوب مع أدوات التفكير.",
    "contextual_layer_switching": "تغيير الطبقة تلقائيًا بناءً على مشاعر المستخدم وسجل تجاوبه مع كل طبقة.",
    "dialogue_tree_dynamic_generation": "بناء شجرة حوار ديناميكية تتعدل حسب إجابات المستخدم وتقدمه، مع إمكانية القفز أو التراجع حسب الحاجة.",
    "interactive_scenario_generation": "إنشاء سيناريوهات قصيرة تفاعلية تمكن المستخدم من تجربة القرار افتراضياً قبل اتخاذه الحقيقي."
  },
  "patterns": [
    "عايز أداة تساعدني",
    "كيف أختار أفعالي",
    "نقطة الاختيار",
    "أنا متردد في اتخاذ قرار",
    "عندي موقف محتاج حسم أمر",
    "محتار أعمل إيه",
    "مش عارف أختار"
  ],
  "context_tags": {
    "L1": ["موقف_صعب", "تردد"],
    "L2": ["استراتيجية", "خطوات_عملية"],
    "L3": ["تفكير_عميق", "تساؤلات_توجيهية"],
    "context_tag_logic": "إذا تكرر سياق 'موقف صعب' مع 'تردد'، استخدم أدوات دعم القرار أكثر من أدوات تحليل الأهداف.",
    "auto_context_tagging": "إذا تكرر سياق جديد، أضفه تلقائيًا مع اقتراحات مخصصة.",
    "contextual_clustering": {
      "auto_context_generation": "إذا تكرر نمط جديد من الكلمات أو المشاعر (مثلاً قلق+تردد+هدف غير واضح)، أنشئ سياق واقتراح جديد داخليًا.",
      "recent_patterns": ["قلق", "تردد", "اختيار صعب"]
    },
    "long_term_context_integration": "استخدم السياق طويل المدى للتأكد من تناسق الردود مع تاريخ المستخدم.",
    "peer_learning_logic": "إذا كان هناك مستخدمون لديهم نمط تردد مشابه، يقترح النظام حلول نجحت معهم.",
    "collective_intelligence_solutions": "تخزين حلول وتقييمات مستخدمين آخرين داخلياً واستخدامها في الاقتراحات للعينة المشابهة."
  },
  "long_term_context": {
    "per_user": {
      "user_id_placeholder": {
        "previous_choices": [
          {"choice_text": "كتابة الخيارات على ورقة", "effectiveness": 0.8},
          {"choice_text": "تخيل النتيجة لمدة دقيقة", "effectiveness": 0.6}
        ],
        "follow_up_history": [
          {"question": "ما هو الهدف الذي تريد تحقيقه؟", "answered": true},
          {"question": "ما أكبر خوف لديك عند اتخاذ قرارك؟", "answered": false}
        ],
        "difficulty_assessment": {
          "current_situation": "medium",
          "historical_average": "low",
          "difficulty_trend_logic": "إذا زادت صعوبة الموقف الحالي مقارنة بالمعدل التاريخي، اقترح تمارين دعم إضافية."
        },
        "progress_tracking": {
          "track_progress": "بعد كل تفاعل، قدم للمستخدم تغذية راجعة حول مدى تقدمه، واقترح خطوة تالية.",
          "effectiveness_history": [
            {"action": "كتابة الخيارات", "times_used": 3, "success_rate": 0.8},
            {"action": "تمرين التنفس", "times_used": 2, "success_rate": 0.5}
          ]
        },
        "temporal_customization_logic": "خصص الردود حسب الوقت من اليوم، إذا كان ليلاً اقترح تمارين تهدئة أكثر من التحليل العميق.",
        "fatigue_detection_logic": "إذا أظهر المستخدم علامات إرهاق أو تكرار بدون تقدم، اقترح تغيير جذري في الأسلوب أو أخذ استراحة.",
        "choice_consequence_analysis": "حلل تلقائياً عواقب كل خيار يطرحه المستخدم واقترح سيناريوهات لنتائج محتملة لكل خيار."
      }
    }
  },
  "dynamic_response_logic": {
    "if_previous_choice_effective": "اقترح نفس الخيار مع تعديل بسيط وتوضيح لماذا كان فعالاً سابقاً.",
    "if_previous_choice_ineffective": "اقترح تجربة خيار جديد أو دمج خيارين معاً.",
    "if_follow_up_answered": "انتقل للسؤال التالي الأكثر عمقاً أو استكشف أسباب التردد.",
    "emotion_intensity_logic": {
      "low": "استجابة هادئة وعملية مع خطوات واضحة.",
      "medium": "استجابة داعمة مع تحفيز على التفكير الإيجابي.",
      "high": "استجابة دعم نفسي وتهدئة مع اقتراح طلب مساعدة."
    },
    "detect_ambiguity": "إذا كانت إجابة المستخدم غامضة أو مترددة، اقترح سؤال توضيحي أو تمرين تفصيلي.",
    "generate_new_suggestion": "إذا وصف المستخدم موقفاً أو كلمات جديدة، أضف اقتراح عملي جديد تلقائياً بناءً على التحليل الداخلي.",
    "track_progress": "بعد كل تفاعل، قدم للمستخدم تغذية راجعة حول مدى تقدمه، واقترح خطوة تالية.",
    "assess_choice_difficulty": "قيم صعوبة الموقف الحالي بناءً على تاريخ المستخدم وخياراته السابقة.",
    "auto_branching": "بناء شجرة حوار تلقائية وتحديد الخطوة التالية حسب إجابة المستخدم وفعالية الاقتراحات السابقة.",
    "contextual_prediction_logic": "تنبأ بالتمارين أو الأسئلة الأكثر مناسبة حسب المشاعر والاختيارات السابقة.",
    "predict_next_action": "توقع الخطوة التالية الأكثر احتمالاً أن تساعد المستخدم قبل أن يطلبها، خاصة عند تكرار التردد في مواقف سابقة.",
    "behavior_emotion_correlation": "حلل العلاقة بين نوع القرار وشدة المشاعر لتخصيص الاقتراحات بشكل أفضل.",
    "auto_session_summary": "في نهاية الجلسة، يولد النظام ملخصاً لتطور الموقف والمشاعر واقتراح خطة عمل قصيرة للمستخدم."
  },
  "actionable_suggestions": [
    {
      "suggestion": "اكتب الخيارات المتاحة أمامك الآن وقيم كل خيار بالنسبة لهدفك.",
      "logic": "افضل للمستخدمين أصحاب تاريخ تردد مرتفع؛ يساعد في تنظيم الأفكار."
    },
    {
      "suggestion": "تخيل أنك تقدم نصيحة لصديق في نفس الموقف، ماذا ستقول له؟",
      "logic": "يستخدم إذا كان المستخدم يميل للحيرة؛ يساعد في رؤية الموقف من زاوية أخرى."
    },
    {
      "suggestion": "حدد أكبر خوف يمنعك من اتخاذ القرار، ثم اسأل نفسك: ما أسوأ ما يمكن أن يحدث؟",
      "logic": "يوصى به إذا لوحظت مشاعر قلق مرتفعة."
    },
    {
      "suggestion": "جرب تمرين التنفس العميق لمدة دقيقة قبل اتخاذ القرار.",
      "logic": "إذا كان القلق في تزايد."
    },
    {
      "suggestion": "استخدم قاعدة الـ 10/10/10: كيف ستشعر بهذا القرار بعد 10 دقائق، 10 شهور، 10 سنوات؟",
      "logic": "إذا كان المستخدم يميل للمبالغة في تقييم النتائج."
    },
    {
      "suggestion": "أعد صياغة المشكلة بكلماتك ثم حاول حلها خطوة بخطوة.",
      "logic": "اقتراح يُولد تلقائياً إذا وصف المستخدم موقف جديد أو كلمات لم ترد من قبل."
    },
    {
      "suggestion": "اقترح تمارين إضافية بناءً على اتجاه العواطف والتقدم السابق.",
      "logic": "إذا تم رصد زيادة التوتر أو التردد على مدار التفاعلات."
    },
    {
      "suggestion": "جرّب الحلول التي نجحت مع مستخدمين لديهم نمط تردد مشابه، مثل تقسيم القرار إلى أجزاء صغيرة.",
      "logic": "يظهر إذا تم اكتشاف نمط مشترك بين المستخدمين."
    },
    {
      "suggestion": "جرب سيناريو افتراضي: تخيل أنك اتخذت القرار فعلاً، كيف سيكون شعورك بعد أسبوع؟",
      "logic": "يستخدم في حالة ممارسة التردد المزمن لمساعدة المستخدم على تخيل المستقبل."
    },
    {
      "suggestion": "حلل عواقب كل خيار تطرحه، واطلب من النظام توليد سيناريوهات محتملة لكل خيار.",
      "logic": "يظهر إذا كان المستخدم يحتاج رؤية نتائج قراره قبل التنفيذ."
    },
    {
      "suggestion": "أجب عن اختبار ذاتي قصير حول وضوح الهدف وتحسن المشاعر لمتابعة تطورك.",
      "logic": "يظهر في منتصف ونهاية الجلسة تلقائياً."
    }
  ],
  "responses": [
    {
      "type": "static",
      "text": "تمام، هذه نقطة مهمة. هل ترغب في تمرين عملي لاتخاذ القرار حول موقفك الحالي؟",
      "logic": "يُستخدم كبداية للمحادثة أو إذا كان السياق غير محدد."
    },
    {
      "type": "dynamic",
      "logic": "إذا كان خيار 'كتابة الخيارات على ورقة' فعال سابقاً، اقترحه مجدداً مع شرح فائدته للمستخدم."
    },
    {
      "type": "dynamic",
      "logic": "إذا كان خيار سابق غير فعال، اقترح خيار جديد أو دمج اقتراحين."
    },
    {
      "type": "emotion_sensitive",
      "logic": "إذا رُصدت مشاعر قلق أو خوف، أضف استجابة تهدئة: خذ نفساً عميقاً وذكّر نفسك أن التردد طبيعي."
    },
    {
      "type": "difficulty_sensitive",
      "logic": "إذا كان الموقف الحالي يصنف كصعب، اقترح خطوة مساعدة إضافية أو تمرين داعم."
    },
    {
      "type": "ambiguity_sensitive",
      "logic": "إذا كانت إجابة المستخدم غامضة، قدم سؤال توضيحي أو تمرين تفصيلي."
    },
    {
      "type": "auto_tone_detection",
      "logic": "حلل نبرة المستخدم وعدّل نوع الرد تلقائيًا."
    },
    {
      "type": "emotion_trend_feedback",
      "logic": "إذا لاحظ النظام تحسن في مستوى القلق أو التردد، أبلغ المستخدم بذلك وقدم تعزيز إيجابي."
    },
    {
      "type": "fatigue_sensitive",
      "logic": "إذا ظهرت علامات إرهاق أو تكرار بدون تقدم، اقترح تغيير في أسلوب التفاعل أو أخذ استراحة."
    },
    {
      "type": "auto_session_summary",
      "logic": "في نهاية الجلسة، أبلغ المستخدم بتطور الموقف والمشاعر واقترح خطة عمل قصيرة."
    },
    {
      "type": "generative_response",
      "logic": "إذا وصف المستخدم موقف أو كلمات جديدة لم تظهر من قبل، يولد النظام استجابة جديدة كلياً تناسب الموقف."
    }
  ],
  "follow_up_questions": [
    {
      "question": "ما هو الهدف الذي تريد تحقيقه في هذا الموقف؟",
      "logic": "يُستخدم إذا كان الهدف غير واضح من إجابات المستخدم."
    },
    {
      "question": "ما أكبر خوف لديك عند اتخاذ قرارك؟",
      "logic": "يُستخدم إذا زادت مشاعر القلق أو التردد."
    },
    {
      "question": "هل جربت كتابة الخيارات والمخاوف؟",
      "logic": "يُستخدم إذا لم يجرب المستخدم أدوات التفكير السابقة."
    },
    {
      "question": "ما الذي يمنعك من اتخاذ القرار الآن؟",
      "logic": "يُستخدم عند وجود غموض أو تردد شديد."
    },
    {
      "question": "هل ساعدتك أي من الأدوات السابقة في مواقف مشابهة؟",
      "logic": "يُستخدم لتقييم فعالية الأدوات السابقة."
    },
    {
      "question": "هل ترغب في تجربة طريقة جديدة لم تستخدمها من قبل؟",
      "logic": "يُولد تلقائياً إذا كانت الأدوات السابقة غير فعالة."
    },
    {
      "question": "هل يمكنك شرح موقفك بمزيد من التفاصيل؟",
      "logic": "يظهر تلقائياً إذا كان clarity score منخفض."
    },
    {
      "question": "قيم وضوح هدفك الآن من 1 إلى 5.",
      "logic": "يظهر تلقائياً في منتصف الجلسة لمتابعة التطور."
    },
    {
      "question": "هل لاحظت تغيراً في مشاعرك بعد آخر تمرين؟",
      "logic": "يظهر تلقائياً بعد تطبيق تمرين جديد."
    }
  ],
  "progress_feedback": [
    {
      "feedback": "ممتاز، أنت الآن أقرب لاتخاذ قرار واعي.",
      "logic": "يُستخدم عند تحقيق تقدم في اتخاذ القرار."
    },
    {
      "feedback": "لاحظت أنك جربت تمرين كتابة الخيارات سابقاً وكان فعالاً بنسبة 80%. هل ترغب في تكراره؟",
      "logic": "تخصيص التغذية الراجعة حسب تاريخ المستخدم."
    },
    {
      "feedback": "كل خطوة صغيرة تقربك من هدفك. جرب التفكير في النتيجة النهائية لقرارك.",
      "logic": "تشجيع المستخدم على الاستمرارية ولو بخطوات بسيطة."
    },
    {
      "feedback": "هل ترغب في متابعة تقييم فعالية الأدوات مع كل موقف جديد؟",
      "logic": "يُولد تلقائياً إذا كان المستخدم يحب متابعة تقدمه."
    },
    {
      "feedback": "تم تحديث مؤشر ذكاء القرار لديك، أنت تتقدم بشكل ملحوظ!",
      "logic": "يُستخدم عند ارتفاع decision_index."
    },
    {
      "feedback": "لاحظت انخفاض القلق لديك بعد آخر تمرين، هذا تقدم رائع!",
      "logic": "يظهر إذا تحسنت المشاعر عبر الجلسة."
    },
    {
      "feedback": "يبدو أنك تحتاج لتغيير في نوع التمارين أو استراحة قصيرة.",
      "logic": "يظهر عند كشف الإرهاق أو التكرار."
    },
    {
      "feedback": "إليك ملخص لتقدمك اليوم: تطور واضح في وضوح الهدف وانخفاض التردد. اقتراحي التالي هو تجربة سيناريو افتراضي لاتخاذ القرار.",
      "logic": "يظهر تلقائياً في نهاية الجلسة إذا تحقق تقدم ملموس."
    }
  ],
  "priority_score": 0.8,
  "predictive_intelligence": {
    "user_personal_model": "يبني النظام نموذجاً مصغراً لكل مستخدم لتوقع ما يحتاجه في الموقف القادم.",
    "peer_success_patterns": "يحلل النظام حلول نجحت مع مستخدمين مشابهين ويقترحها تلقائياً.",
    "session_emotion_trend": "إذا تحسنت المشاعر خلال الجلسة، تظهر تغذية راجعة إيجابية تلقائياً.",
    "collective_trend_analysis": "تحليل اتجاهات جماعية لمستخدمي النظام واقتراح نصائح وحلول بناءً على هذه الاتجاهات."
  },
  "metadata": {
    "created_at": "2025-09-14",
    "last_updated": "2025-09-14",
    "intent_type": "cbt_act",
    "version": "3.2-enhanced"
  }
}
